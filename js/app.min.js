(() => {
  "use strict";
  const e = document.querySelector(".menu__setting"),
    t = document.querySelector(".menu__subsetting"),
    c = document.querySelector(".btn-close"),
    a = document.querySelector(".subsett__btn"),
    o = document.querySelector(".clock__btn"),
    l = document.querySelector("#time-0"),
    s = document.querySelector("#time-1"),
    n = document.querySelector("#time-2"),
    r = document.querySelector("#interval"),
    d = document.querySelector(".clock__time"),
    u =
      (document.querySelector(".clock__time-active"),
      document.querySelector(".clock__steps")),
    i = document.querySelectorAll(".clock__step"),
    m = document.querySelector("title"),
    v =
      (document.querySelector(".taskList__form"),
      document.querySelector(".taskList__add"),
      new Audio("/dist/audio/audio.mp3"));
  let _,
    p = 0,
    y = 1,
    k = r.value,
    L = r.value,
    b = 0;
  const f = { 0: 1500, 1: 300, 2: 900 },
    S = function (e, t, c) {
      document.body.classList.remove(t, c),
        document.body.classList.add(e),
        o.classList.remove(`clock__btn-${t}`, `clock__btn-${c}`),
        o.classList.add(`clock__btn-${e}`);
    },
    g = function (e) {
      const t = Math.trunc(Math.abs(e) / 60),
        c = Math.trunc(e % 60);
      d.textContent = `${String(t).padStart(2, "0")}:${String(c).padStart(
        2,
        "0"
      )}`;
    },
    E = function (e, t, c, a) {
      g(f[e]), S(t, c, a);
    },
    h = function () {
      "stop" === o.dataset.start &&
        ((o.textContent = "Start"),
        (o.dataset.start = "start"),
        clearInterval(x));
    };
  function C(e) {
    _ = Math.abs(f[e]);
  }
  C(p);
  const q = function () {
    (m.textContent = `${d.innerText} - your Time`),
      _ > 0 &&
        ((_ -= 1),
        g(_),
        _ <= 0 &&
          y % L == 0 &&
          (v.play(),
          (L += k),
          b !== y && b++,
          console.log(`Red: ${y}`),
          console.log(`Blue: ${b}`),
          console.log(`Gray: ${L}`),
          E(2, "gray", "red", "blue"),
          (p = d.dataset.clock = 2),
          C(p),
          h(),
          i.forEach((e) => {
            e.classList.remove("clock__step-active"),
              2 === Number(e.dataset.name) &&
                e.classList.add("clock__step-active");
          })),
        _ <= 0 &&
          y === b &&
          (v.play(),
          y++,
          console.log(`Red: ${y}`),
          console.log(`Interval: ${L}`),
          E(0, "red", "blue", "gray"),
          (p = d.dataset.clock = 0),
          C(p),
          h(),
          i.forEach((e) => {
            e.classList.remove("clock__step-active"),
              0 === Number(e.dataset.name) &&
                (e.classList.add("clock__step-active"), console.log(e));
          })),
        _ <= 0 &&
          (v.play(),
          b++,
          console.log(`Blue: ${b}`),
          E(1, "blue", "red", "gray"),
          (p = d.dataset.clock = 1),
          C(p),
          h(),
          i.forEach((e) => {
            e.classList.remove("clock__step-active"),
              1 === Number(e.dataset.name) &&
                (e.classList.add("clock__step-active"), console.log(e));
          })));
  };
  let x;
  e.addEventListener("click", (e) => {
    e.preventDefault(), (t.style.display = "block");
  }),
    c.addEventListener("click", (e) => {
      e.preventDefault(), (t.style.display = "none");
    }),
    o.addEventListener("click", (e) => {
      e.preventDefault();
      const t = e.target;
      "start" === t.dataset.start
        ? ((t.textContent = "Stop"),
          (t.dataset.start = "stop"),
          (x = setInterval(q, 1e3)))
        : "stop" === t.dataset.start &&
          ((t.textContent = "Start"),
          (t.dataset.start = "start"),
          clearInterval(x)),
        console.log(t.text);
    }),
    a.addEventListener("click", (e) => {
      e.preventDefault(),
        (f[0] = 60 * l.value),
        (f[1] = 60 * s.value),
        (f[2] = 60 * n.value),
        (t.style.display = "none"),
        i.forEach((e, t) => {
          e.classList.remove("clock__step-active"),
            0 === t &&
              (e.classList.add("clock__step-active"),
              (d.dataset.clock = t),
              console.log(p));
        }),
        (p = 0),
        (k = Number(r.value)),
        (L = Number(r.value)),
        (y = 1),
        (b = 0),
        console.log(k),
        g(f[0]),
        S("red", "blue", "gray"),
        h(),
        C(p);
    }),
    u.addEventListener("click", (e) => {
      e.preventDefault();
      const t = e.target;
      i.forEach((e) => {
        e.classList.remove("clock__step-active");
      }),
        t.classList.add("clock__step-active"),
        (p = Number((d.dataset.clock = t.dataset.name))),
        C(p),
        h(),
        0 === p && E(0, "red", "blue", "gray"),
        1 === p && E(1, "blue", "red", "gray"),
        2 === p && E(2, "gray", "blue", "red");
    });
  !(function () {
    const e = document.querySelector("#task__form"),
      t = document.querySelector("#task__input"),
      c = document.querySelector("#tasks");
    e.addEventListener("submit", (e) => {
      e.preventDefault();
      const a = document.createElement("div"),
        o = document.createElement("div"),
        l = document.createElement("input"),
        s = document.createElement("input"),
        n = document.createElement("div"),
        r = document.createElement("button"),
        d = document.createElement("button");
      a.classList.add("task"),
        o.classList.add("task__content"),
        l.classList.add("check"),
        (l.type = "checkbox"),
        s.classList.add("text"),
        (s.type = "text"),
        s.setAttribute("readonly", "readonly"),
        n.classList.add("task__actions"),
        r.classList.add("edit"),
        (r.textContent = "Edit"),
        d.classList.add("delete"),
        (d.textContent = "Delete");
      const u = t.value;
      (s.value = u),
        u
          ? (o.appendChild(l),
            o.appendChild(s),
            n.appendChild(r),
            n.appendChild(d),
            a.appendChild(o),
            a.appendChild(n),
            c.appendChild(a),
            r.addEventListener("click", (e) => {
              e.preventDefault(),
                "edit" === r.textContent.toLowerCase()
                  ? (s.removeAttribute("readonly"),
                    s.focus(),
                    (r.textContent = "Save"))
                  : "save" === r.textContent.toLowerCase() &&
                    (s.setAttribute("readonly", "readonly"),
                    (r.textContent = "Edit"));
            }),
            d.addEventListener("click", (e) => {
              e.preventDefault(), c.removeChild(a);
            }),
            l.addEventListener("click", (e) => {
              l.checked ? s.classList.add("lt") : s.classList.remove("lt");
            }),
            (t.value = ""))
          : alert("Please fill out the task");
    });
  })(),
    (function (e) {
      let t = 0,
        c = 0;
      if (null === e) return [];
      if (e === []) return [];
      for (let a = 0; a < e.length; a++)
        e[a] < 0 ? (c += e[a]) : e[a] > 0 && t++;
    })([0, 2, 3, 0, 5, 6, 7, 8, 9, 10, -11, -12, -13, -14]);
  console.log(!0), console.log(!0), (window.FLS = !0);
})();
